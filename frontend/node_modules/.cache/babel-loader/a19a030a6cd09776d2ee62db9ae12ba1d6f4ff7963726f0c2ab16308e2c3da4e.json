{"ast":null,"code":"var _s = $RefreshSig$();\nimport './salesCss.css';\nimport { useState, useEffect } from 'react';\nimport { fetchElectronicsData } from './API';\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Sales() {\n  _s();\n  const today = new Date();\n  const year = today.getFullYear();\n  const month = String(today.getMonth() + 1).padStart(2, '0');\n  const day = String(today.getDate()).padStart(2, '0');\n  const formattedDate = day + '-' + month + '-' + year;\n  const [rows, setRows] = useState([{\n    No: '',\n    Item: '',\n    CostPrice: '',\n    Quantity: '',\n    SellPrice: '',\n    Amount: '',\n    Profit: ''\n  }]);\n  const [arr, setArr] = useState([]);\n  useEffect(() => {\n    fetchElectronicsData().then(res => setArr(res));\n  }, []);\n  const handleInputChange = (index, e) => {\n    const {\n      name,\n      value\n    } = e.target;\n    const updatedRows = [...rows];\n    updatedRows[index][name] = value;\n    const quantity = updatedRows[index].Quantity || 0;\n    const sellPrice = updatedRows[index].SellPrice || 0;\n    const costPrice = updatedRows[index].CostPrice || 0;\n    updatedRows[index].Amount = sellPrice * quantity;\n    updatedRows[index].Profit = sellPrice - costPrice;\n    setRows(updatedRows);\n  };\n  const handleItemChange = (index, e) => {\n    const selectedItem = e.target.value;\n    const selectedItemData = arr.find(item => item.Item === selectedItem);\n    const updatedRows = [...rows];\n    updatedRows[index].Item = selectedItem;\n    updatedRows[index].CostPrice = selectedItemData ? selectedItemData.CostPrice : '';\n    setRows(updatedRows);\n  };\n  const addRow = () => {\n    if (allFieldsFilled()) {\n      setRows([...rows, {\n        Item: '',\n        CostPrice: '',\n        Quantity: '',\n        SellPrice: '',\n        Amount: '',\n        Profit: '',\n        isInvalid: false\n      }]);\n    } else {\n      const updatedRows = [...rows];\n      updatedRows[rows.length - 1].isInvalid = true;\n      setRows(updatedRows);\n    }\n  };\n  const allFieldsFilled = () => {\n    const lastRow = rows[rows.length - 1];\n    return lastRow.Item && lastRow.Quantity && lastRow.SellPrice;\n  };\n  const handleDeleteRow = index => {\n    const updatedRows = rows.filter((_, i) => i !== index);\n    setRows(updatedRows);\n  };\n  useEffect(() => {\n    const handleKeyPress = event => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        addRow();\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => {\n      window.removeEventListener('keydown', handleKeyPress);\n    };\n  }, []);\n  const totalQuantity = rows.reduce((acc, row) => acc + (parseInt(row.Quantity) || 0), 0);\n  const totalAmount = rows.reduce((acc, row) => acc + (parseFloat(row.Amount) || 0), 0);\n  const totalProfit = rows.reduce((acc, row) => acc + (parseFloat(row.Profit) || 0), 0);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n_s(Sales, \"xquf9sBXo1q6N3b0PrLY4zV1Wac=\");\n_c = Sales;\nexport default Sales;\nvar _c;\n$RefreshReg$(_c, \"Sales\");","map":{"version":3,"names":["useState","useEffect","fetchElectronicsData","Fragment","_Fragment","jsxDEV","_jsxDEV","Sales","_s","today","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","formattedDate","rows","setRows","No","Item","CostPrice","Quantity","SellPrice","Amount","Profit","arr","setArr","then","res","handleInputChange","index","e","name","value","target","updatedRows","quantity","sellPrice","costPrice","handleItemChange","selectedItem","selectedItemData","find","item","addRow","allFieldsFilled","isInvalid","length","lastRow","handleDeleteRow","filter","_","i","handleKeyPress","event","key","preventDefault","window","addEventListener","removeEventListener","totalQuantity","reduce","acc","row","parseInt","totalAmount","parseFloat","totalProfit","_c","$RefreshReg$"],"sources":["C:/Users/jagdi/Desktop/ReactProject/ElectronicsStore/dariyalal_electronics/src/components/Sales.js"],"sourcesContent":["import './salesCss.css';\r\nimport { useState, useEffect } from 'react';\r\nimport { fetchElectronicsData } from './API';\r\nfunction Sales() {\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = String(today.getMonth() + 1).padStart(2, '0');\r\n    const day = String(today.getDate()).padStart(2, '0');\r\n    const formattedDate = day + '-' + month + '-' + year;\r\n\r\n    const [rows, setRows] = useState([\r\n        {   No: '', \r\n            Item: '', \r\n            CostPrice: '', \r\n            Quantity: '', \r\n            SellPrice: '', \r\n            Amount: '', \r\n            Profit: '' \r\n        }\r\n    ]);\r\n\r\n    const [arr, setArr] = useState([]);\r\n    useEffect(() => {\r\n        fetchElectronicsData()\r\n            .then(res => setArr(res));\r\n    }, []);\r\n\r\n    const handleInputChange = (index, e) => {\r\n        const { name, value } = e.target;\r\n        const updatedRows = [...rows];\r\n        updatedRows[index][name] = value;\r\n\r\n        const quantity = updatedRows[index].Quantity || 0;\r\n        const sellPrice = updatedRows[index].SellPrice || 0;\r\n        const costPrice = updatedRows[index].CostPrice || 0;\r\n\r\n        updatedRows[index].Amount = sellPrice * quantity;\r\n        updatedRows[index].Profit = sellPrice - costPrice;\r\n\r\n        setRows(updatedRows);\r\n    };\r\n\r\n    const handleItemChange = (index, e) => {\r\n        const selectedItem = e.target.value;\r\n        const selectedItemData = arr.find((item) => item.Item === selectedItem);\r\n\r\n        const updatedRows = [...rows];\r\n        updatedRows[index].Item = selectedItem;\r\n        updatedRows[index].CostPrice = selectedItemData ? selectedItemData.CostPrice : '';\r\n\r\n        setRows(updatedRows);\r\n    };\r\n\r\n    const addRow = () => {\r\n        if (allFieldsFilled()) {\r\n            setRows([...rows, { Item: '', \r\n                                CostPrice: '', \r\n                                Quantity: '', \r\n                                SellPrice: '', \r\n                                Amount: '', \r\n                                Profit: '', \r\n                                isInvalid: false \r\n                            }\r\n                    ]);\r\n        }\r\n        else {\r\n            const updatedRows = [...rows];\r\n            updatedRows[rows.length - 1].isInvalid = true;\r\n            setRows(updatedRows);\r\n        }\r\n    };\r\n\r\n    const allFieldsFilled = () => {\r\n        const lastRow = rows[rows.length - 1];\r\n        return lastRow.Item && lastRow.Quantity && lastRow.SellPrice;\r\n    };\r\n\r\n    const handleDeleteRow = (index) => {\r\n        const updatedRows = rows.filter((_, i) => i !== index);\r\n        setRows(updatedRows);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const handleKeyPress = (event) => {\r\n            if (event.key === 'Enter') {\r\n                event.preventDefault();\r\n                addRow();\r\n            }\r\n        };\r\n        window.addEventListener('keydown', handleKeyPress);\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyPress);\r\n        };\r\n    }, []);\r\n\r\n    const totalQuantity = rows.reduce((acc, row) => acc + (parseInt(row.Quantity) || 0), 0);\r\n    const totalAmount = rows.reduce((acc, row) => acc + (parseFloat(row.Amount) || 0), 0);\r\n    const totalProfit = rows.reduce((acc, row) => acc + (parseFloat(row.Profit) || 0), 0);\r\n\r\n    return (\r\n        <>\r\n            \r\n        </>\r\n    );\r\n}\r\n\r\nexport default Sales;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}